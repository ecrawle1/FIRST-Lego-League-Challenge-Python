from hub import port, motion_sensor
import motor
import motor_pair, runloop
import math


motor_pair.pair(motor_pair.PAIR_1, port.A, port.B)

drive_pair = (motor_pair.PAIR_1)

WHEEL_DIAMETER_CM = 6.24
CM_PER_INCH = 2.54
DEGREES_PER_ROTATION = 360

wheel_circumference_cm = WHEEL_DIAMETER_CM * math.pi
degrees_per_cm = DEGREES_PER_ROTATION / wheel_circumference_cm
degrees_per_inch = degrees_per_cm * CM_PER_INCH


async def main():
    degrees = int(11 * degrees_per_inch)
    await motor_pair.move_for_degrees(drive_pair, degrees, 0, velocity=600)
    await runloop.sleep_ms (500) 


    motion_sensor.reset_yaw(0)
    motor_pair.move(drive_pair, 100, velocity=200)
    while motion_sensor.tilt_angles()[0] > -870:
        await runloop.sleep_ms(10)
    motor_pair.stop(drive_pair)
    await runloop.sleep_ms(500)


    degrees = int(11 * degrees_per_inch)
    await motor_pair.move_for_degrees(drive_pair, degrees, 0, velocity=600)
    await runloop.sleep_ms (500)


runloop.run(main())